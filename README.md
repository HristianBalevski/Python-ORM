# Python-ORM
Python ORM course at SoftUni - September 2023

[Click Here for more information about the course Python ORML](https://softuni.bg/trainings/4253/python-orm-october-2023)

![exhausted-young-male-software-developer-sleeping-by-technology-while-leaning-desk](https://github.com/HristianBalevski/Python-ORM/assets/114162692/961bbbcc-673b-4e53-8426-fd8e006bed46)

## What is ORM?

- Object-Relational Mapping (ORM) allows manipulating databases using common classes and objects
- Python Classes ➔ Database Tables

## Benefits of ORM

- Enables you to write code in your preferred OOP language
- Provides a layer of abstraction that hides the complexity of the database schema and relationships
- Can automate some common tasks:
  - Creating, updating, and deleting records
  - Validating data
  - Managing transactions and connections

## Drawbacks of ORM

- When it comes to complex queries and aggregations that require high performance and flexibility
- Can generate inefficient or suboptimal SQL queries
  - Poor performance
  - Excessive memory usage
  - Unexpected errors

- Limits control and customization over the SQL queries and operations
  - Harder to optimize
  - May not support some advanced features or functions

## SQL Injection

- SQL Injection is a type of an injection attack
- Makes it possible to execute malicious SQL statements
- Attackers can use SQL Injection vulnerabilities to bypass application security measures so they could:
  - go around authentication and authorization
  - retrieve the content of the entire database
  - add, modify, and delete records in the database
  - gain unauthorized access to sensitive data
- ORM reduces explicit SQL queries and is much less vulnerable to SQL injection

## ORM Advantages and Disadvantages

**Advantages**
- Developer productivity – speeds up development
- SQL injection is a lot more difficult
- ORMs work very well with CRUD
- Better readability

**Disadvantages**
- Reduced performance (N+1 issue or autogenerated SQL)
- Reduces flexibility (some operations are hard to implement)

## Popular ORM Tools for Python

- Django
  - A great tool for building web applications rapidly
- web2py
  - An open source full-stack Python framework 
- SQLObject
  - An ORM that provides an object interface to your database 
- SQLAlchemy
  - Provides persistence patterns designed for efficient and high - performing database access
 
## Database Drivers

- Database Driver (module/connector) is a computer program that implements a protocol for a database connection
  - Works like an adapter that connects a generic interface to a specific database vendor implementation
  - Accesses the physical data through a stand-alone engine
  - Submits SQL statements to and retrieves results from the engine
 
## Psycopg2

- PostgreSQL database adapter for Python programming language
- Use Psycopg2 module to
  - Connect to PostgreSQL
  - Perform SQL queries and database operations
- Psycopg2 is an external module

## Psycopg2 Advantages

- Preferred module for PostgreSQL interaction
- Trusted by Python and PostgreSQL frameworks
- Actively maintained
- Fully supports Python's primary versions, ensuring seamless integration
- Thread-safe design built to ensure safe and reliable operation
- Designed to handle heavy multi-threaded applications

## Django & Django ORM

**What is Framework?**

- Platform for developing software applications
- Provides a foundation on which software developers can build programs for a specific platform
- A framework includes an API
- May include code libraries, a compiler, and other programs used in the software development process

**What is Django Framework?**

- High-level Python Web Framework
- Ridiculously fast
- Reassuringly secure
- Exceedingly scalable
- Free and Open Source

**Django ORM**

- Django is equipped with an ORM
- One of the best ORMs available in the industry today
- Tightly coupled with the Django framework
- Very efficient
- Ability to handle medium to low complexity queries and medium to huge datasets
- Migrations are another useful feature

## Django Application

**App vs Project**

- Django App:
  - A Web application that does something - e.g., a blog system or a small task app
  - One app can be used in multiple projects
 
- Django Project:
  - A collection of configuration and apps for a particular website
  - The project can contain multiple apps
 
## Directory Structure

- admin.py
  - The admin site module
- models.py
  - The models of the app
- views.py
  - The views of the app
- migrations
  - Command-line utility for propagating changes in models
 
## Django dbshell

**Django dbshell**

- An interactive command-line interface shell environment
- Runs the command-line client for specified database, or the default database
- A very useful tool for SQL database debugging when working on a Django application

